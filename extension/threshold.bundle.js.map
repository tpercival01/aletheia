{"version":3,"file":"threshold.bundle.js","mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://aletheia/./src/ui/settings/threshold.js"],"sourcesContent":["document.getElementById(\"return_button\").addEventListener(\"click\", () => {\n    window.location.href = chrome.runtime.getURL(\"ui/settings/settings.html\");\n});\n\nconst presets = {\n    low: [0.45, 0.90],\n    medium: [0.30, 0.80],\n    high: [0.20, 0.60]\n}\n\nconst preset_low = document.getElementById(\"preset_low\");\nconst preset_med = document.getElementById(\"preset_med\");\nconst preset_high = document.getElementById(\"preset_high\");\n\nlet preset_selected = null;\n\n// Controls the threshold sliders\n\nconst slider1 = document.getElementById(\"threshold1\");\nconst slider2 = document.getElementById(\"threshold2\");\n\nconst value1 = document.getElementById(\"threshold1_value\");\nconst value2 = document.getElementById(\"threshold2_value\");\n\nconst green = document.querySelector(\"#threshold_preview .green\");\nconst yellow = document.querySelector(\"#threshold_preview .yellow\");\nconst red = document.querySelector(\"#threshold_preview .red\");\n\nfunction updatePreview() {\n    if (preset_selected){\n        let t1 = presets[preset_selected][0];\n        let t2 = presets[preset_selected][1];\n\n        slider1.value = t1;\n        slider2.value = t2;\n\n        if (t1 >= t2) {\n            t1 = Math.min(t1, t2 - 0.01);\n            slider1.value = t1.toFixed(2);\n        }\n\n        value1.textContent = t1.toFixed(2);\n        value2.textContent = t2.toFixed(2);\n\n        green.style.flexGrow = t1;\n        yellow.style.flexGrow = t2 - t1;\n        red.style.flexGrow = 1 - t2;\n    }\n\n    let t1 = parseFloat(slider1.value);\n    let t2 = parseFloat(slider2.value);\n\n    if (t1 >= t2) {\n        t1 = Math.min(t1, t2 - 0.01);\n        slider1.value = t1.toFixed(2);\n    }\n\n    value1.textContent = t1.toFixed(2);\n    value2.textContent = t2.toFixed(2);\n\n    green.style.flexGrow = t1;\n    yellow.style.flexGrow = t2 - t1;\n    red.style.flexGrow = 1 - t2;\n}\n\nfunction save_settings(){\n    const save_value_1 = parseFloat(slider1.value);\n    const save_value_2 = parseFloat(slider2.value);\n    \n    chrome.storage.local.get(\"settings\", (result) => {\n        let settings_object = result.settings || {};\n        settings_object.thresholds = [save_value_1, save_value_2];\n        chrome.storage.local.set({settings: settings_object});\n    });\n\n}\n\nslider1.addEventListener(\"input\", () => {\n    preset_selected = null;\n    save_settings();\n    updatePreview();\n});\nslider2.addEventListener(\"input\", () => {\n    preset_selected = null;\n    save_settings();\n    updatePreview();\n});\n\npreset_low.addEventListener(\"click\", () => {\n    preset_selected = \"low\";\n    updatePreview();\n    save_settings();\n});\npreset_med.addEventListener(\"click\", () => {\n    preset_selected = \"medium\";\n    updatePreview();\n    save_settings();\n});\npreset_high.addEventListener(\"click\", () => {\n    preset_selected = \"high\";\n    updatePreview();\n    save_settings();\n});"],"names":[],"sourceRoot":""}